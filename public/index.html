<script>
function getLocation() {

    if (navigator.geolocation) {

        navigator.geolocation.getCurrentPosition(position => {

            const data = {
                device: navigator.userAgent,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                location: {
                    latitude: position.coords.latitude,
                    longitude: position.coords.longitude
                }
            };

            fetch("/save", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            });

            alert("Location shared successfully!");

        });

    } else {
        alert("Geolocation not supported");
    }
}
</script>
